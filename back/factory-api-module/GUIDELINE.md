

---

# ðŸ›ï¸ ë°”ì´ë¸Œ ëª¨ë¸ë§ & SW ì œì¡° ê³µì • í†µí•© í•¸ë“œë¶ (ìµœì¢…ë³¸)

## [PART 1] ì„¤ê³„ ì „ì²˜ë¦¬: ë°”ì´ë¸Œ ëª¨ë¸ë§ 3ë‹¨ê³„

1. **Vibe Sync**: ì‹œìŠ¤í…œ íŽ˜ë¥´ì†Œë‚˜ì™€ ë„ë©”ì¸ ê²½ê³„ ì •ì˜.
2. **Dynamic Skeleton**: DB ì„¤ê³„ ì „, ìœ ì¦ˆì¼€ì´ìŠ¤ ë‹¨ìœ„ì˜ **ì•¡í‹°ë¹„í‹°(Flow)** ì„¤ê³„ ìš°ì„ .
3. **Vibe Iteration**: ì•¡í‹°ë¹„í‹°ë¥¼ ì§€íƒ±í•  **í’ë¶€í•œ ë„ë©”ì¸ ëª¨ë¸(Rich Domain Model)** ì†ì„±ê³¼ ê·œì¹™ í• ë‹¹.

---

## [PART 2] ì œì¡° ê³µì •: 5ë‹¨ê³„ ëª¨ë“ˆ ë ˆì´ì–´ ë° ê²©ë¦¬ ìˆ˜ì¹™

ì‹œìŠ¤í…œì€ ë…ë¦½ì ì¸ **ëª¨ë“ˆ(Module)** ë‹¨ìœ„ë¡œ êµ¬ì„±ë˜ë©°, ê° ë ˆì´ì–´ëŠ” ì—„ê²©í•œ **ê°€ì‹œì„±(Visibility)**ì„ ê°€ì§‘ë‹ˆë‹¤.

| ë‹¨ê³„ | íŒ¨í‚¤ì§€ | ì—­í•  ë° êµ¬ì„± ìš”ì†Œ | ê°€ì‹œì„± ë° ì™¸ë¶€ ëª¨ë“ˆ ì°¸ì¡° ê·œì¹™ |
| --- | --- | --- | --- |
| **1ë‹¨ê³„** | **application** | **Activity(Usecase)**, DTO, ì´ë²¤íŠ¸ | **Public.** ëª¨ë“ˆì˜ ìœ ì¼í•œ ìž…êµ¬. ì™¸ë¶€ ëª¨ë“ˆì€ ì—¬ê¸°ë§Œ ì°¸ì¡° ê°€ëŠ¥. |
| **2ë‹¨ê³„** | **model** | **Aggregate**, Entity, Domain Logic | **Internal.** ì² ì €ížˆ ê²©ë¦¬. ì™¸ë¶€ì—ì„œ ì—”í‹°í‹° ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€. |
| **3ë‹¨ê³„** | **port** | Repository & ì™¸ë¶€ ì—°ë™ ì¸í„°íŽ˜ì´ìŠ¤ | **Mixed.** ë¹„ì¦ˆë‹ˆìŠ¤ ì ‘ì ì€ ê³µê°œ, DB ì „ìš©ì€ ê²©ë¦¬. |
| **4ë‹¨ê³„** | **infra** | Port êµ¬í˜„ì²´(Adapter), DB ì„¤ì • | **Internal.** ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ì´ë¯€ë¡œ ì™¸ë¶€ ë…¸ì¶œ ê¸ˆì§€. |
| **5ë‹¨ê³„** | **api** | **Service(Facade)**, Controller | **Internal.** ì›¹ ì§„ìž…ì . íƒ€ ëª¨ë“ˆì—ì„œ ì§ì ‘ í˜¸ì¶œ ë¶ˆê°€. |

### ðŸ’¡ ëª¨ë“ˆ ê´€ë¦¬ ë° êµ¬í˜„ ìˆ˜ì¹™

* **ì„±ë²½ ì›ì¹™**: `application`(1ë‹¨ê³„)ì€ ì„±ë¬¸ì´ë©°, ê·¸ ì™¸ ëª¨ë“  ë ˆì´ì–´ëŠ” ì„±ë²½ ì•ˆìª½(Internal)ì— ìˆ¨ê¹ë‹ˆë‹¤.
* **Service Facade**: `api`(5ë‹¨ê³„)ì˜ `Service`ëŠ” ê´€ë ¨ Activityë“¤ì„ í•„ë“œë¡œ ëª¨ì•„ ì»¨í…ìŠ¤íŠ¸ ê²½ê³„ë¥¼ í˜•ì„±í•˜ë©°, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ ì„œë¹„ìŠ¤ë§Œ ë°”ë¼ë´…ë‹ˆë‹¤.
* **Identity ì „íŒŒ**: ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì¸ì¦ ì •ë³´ì—ì„œ ì‹ë³„ìž(userId)ë§Œ ì¶”ì¶œí•˜ì—¬ Activityì˜ `operator` ì¸ìžë¡œ ë„˜ê¹ë‹ˆë‹¤.
* **ë°ì´í„° ì ‘ê·¼**: íƒ€ ëª¨ë“ˆ í…Œì´ë¸”ì€ `SELECT`ë§Œ í—ˆìš©í•˜ë©°, ë°˜ë“œì‹œ ìžì‹ ì˜ `Port`ë¥¼ í†µí•´ ì „ìš© VOë¡œ ë§¤í•‘í•˜ì—¬ ê°€ì ¸ì˜µë‹ˆë‹¤.

---

## [PART 3] ë°ì´í„° í‘œì¤€í™” ë° ì‘ë‹µ ê·œê²©

1. **ì‹¤ìš©ì  DTO**: ê³¼ë„í•œ ì¶”ìƒí™”(`Payload`, `Search`, `Vo`)ë¥¼ íê¸°í•˜ê³  êµ¬ì²´ì ì¸ **Record**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
* **Request**: `@Valid`ë¥¼ í¬í•¨í•œ ë…ë¦½ Record.
* **Response**: ë„ë©”ì¸ìœ¼ë¡œë¶€í„° ìƒì„±ë˜ëŠ” ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ(`from()`) ì†Œìœ .


2. **ê³µí†µ ì‘ë‹µ (Global Envelope)**: `Success`/`Fail` ê·œê²©ì„ ìœ ì§€í•˜ë©°, `ResponseBodyAdvice`ë¥¼ í†µí•´ ìžë™ í¬ìž¥í•©ë‹ˆë‹¤.

---

## [PART 4] í˜„ëŒ€ì  í…ŒìŠ¤íŠ¸ ìˆ˜ì¹™

* **BDD ìŠ¤íƒ€ì¼**: `BDDMockito.given()`ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.
* **MockMvcTester**: ìµœì‹  `assertThat()` ì²´ì´ë‹ì„ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì‘ë‹µ ê·œê²©ì„ ê²€ì¦í•©ë‹ˆë‹¤.
* **Infra Test**: `Testcontainers`ë¡œ ì‹¤ì œ PostgreSQL í™˜ê²½ì—ì„œ SQL ë¬´ê²°ì„±(Upsert ë“±)ì„ í™•ì¸í•©ë‹ˆë‹¤.

---

## ðŸ“ ìµœì¢… ì„¤ê³„ ì² í•™: "Pragmatic Clean Architecture"

> **"ë³µìž¡í•œ ì¸í„°íŽ˜ì´ìŠ¤ë³´ë‹¤ ëª…í™•í•œ ë°”ìš´ë”ë¦¬ë¥¼, ê±°ì°½í•œ ì¶”ìƒí™”ë³´ë‹¤ ì‹¤ìš©ì ì¸ ëª¨ë“ˆí™”ë¥¼ ìš°ì„ í•œë‹¤."**
> 1. ëª¨ë“  ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
> 2. ê¸°ìˆ ì€ ë„ë©”ì¸ì„ ë³´í˜¸í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨ì¼ ë¿ì´ë‹¤.
> 3. ëª¨ë“ˆ ê°„ ê²°í•©ì€ DB ìˆ˜ì¤€ì—ì„œ ì‹¤ìš©ì„±ì„ ì°¾ë˜, ì½”ë“œ ìˆ˜ì¤€ì—ì„œëŠ” ì² ì €ížˆ ê²©ë¦¬í•œë‹¤.
> 
> 
